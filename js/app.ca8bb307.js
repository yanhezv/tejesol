(function(t){function e(e){for(var o,n,i=e[0],c=e[1],u=e[2],d=0,p=[];d<i.length;d++)n=i[d],r[n]&&p.push(r[n][0]),r[n]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);l&&l(e);while(p.length)p.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],o=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(o=!1)}o&&(s.splice(e--,1),t=n(n.s=a[0]))}return t}var o={},r={app:0},s=[];function n(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=o,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/tejesol/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var o=a("64a9"),r=a.n(o);r.a},"06e8":function(t,e,a){},"184e":function(t,e,a){},"1b11":function(t,e,a){},"1b42":function(t,e,a){t.exports=a.p+"img/tejesol-logo.fe66b8be.png"},4216:function(t,e,a){t.exports=a.p+"img/tejesol-logo-normal.f4555588.png"},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var o=a("2b0e"),r=a("8aa5"),s=a.n(r),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"q-app"}},[a("router-view")],1)},i=[],c=(a("034f"),a("2877")),u={},l=Object(c["a"])(u,n,i,!1,null,null,null);l.options.__file="App.vue";var d=l.exports,p=a("8c4f"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auth-layout"},[a("div",{staticClass:"auth-layout__main"},[t._m(0),a("div",{staticClass:"auth-layout__right"},[a("div",{staticClass:"auth-layout__header"},[a("q-icon",{attrs:{name:"far fa-user"}})],1),a("div",{staticClass:"auth-layout__body"},[a("router-view")],1)])])])},m=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"auth-layout__left"},[o("figure",{staticClass:"auth-layout__figure"},[o("img",{staticClass:"auth-layout__logo",attrs:{src:a("4216"),alt:"Logo tejesol"}})])])}],g=a("e083"),h={name:"LayoutDefault",data:function(){return{}},methods:{openURL:g["d"]}},b=h,_=(a("a946"),Object(c["a"])(b,f,m,!1,null,"31b052ca",null));_.options.__file="AuthLayout.vue";var v=_.exports,y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-layout",{attrs:{view:"lHh Lpr lFf"}},[o("q-layout-header",[o("q-toolbar",{attrs:{color:"grey-3","text-color":"grey-8"}},[o("q-btn",{attrs:{flat:"",dense:"","aria-label":"Menu",icon:"menu"},on:{click:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}}),o("q-toolbar-title",[t._v(t._s(this.$store.state.titleSection))])],1)],1),o("q-layout-drawer",{attrs:{"content-class":"mat"===t.$q.theme?"bg-grey-3":null},model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}},[o("q-scroll-area",{staticStyle:{width:"100%",height:"100vh"}},[o("div",{staticClass:"q-pt-lg q-px-md row justify-center items-center"},[o("img",{staticClass:"base-layout__logo",attrs:{alt:"Quasar logo",src:a("1b42")}})]),o("q-list",{attrs:{"no-border":"",link:"","inset-delimiter":""}},[o("q-item-separator"),o("q-item",{attrs:{to:{name:"welcome"},exact:""}},[o("q-item-side",{attrs:{icon:"home"}}),o("q-item-main",{attrs:{label:"Inicio"}})],1),o("q-item-separator"),o("q-list-header",[t._v("Producto")]),o("q-item",{attrs:{to:{name:"products"}}},[o("q-item-side",{attrs:{icon:"view_list"}}),o("q-item-main",{attrs:{label:"Listado"}})],1),o("q-item",{attrs:{to:{name:"categories"}}},[o("q-item-side",{attrs:{icon:"category"}}),o("q-item-main",{attrs:{label:"Categoría"}})],1),o("q-item",[o("q-item-side",{attrs:{icon:"timelapse"}}),o("q-item-main",{attrs:{label:"Temporada"}})],1),o("q-item",[o("q-item-side",{attrs:{icon:"money"}}),o("q-item-main",{attrs:{label:"Stock"}})],1),o("q-item-separator"),o("q-list-header",[t._v("Ventas")]),o("q-item",[o("q-item-side",{attrs:{icon:"add_circle_outline"}}),o("q-item-main",{attrs:{label:"Registro"}})],1),o("q-item",[o("q-item-side",{attrs:{icon:"local_grocery_store"}}),o("q-item-main",{attrs:{label:"Pedidos"}})],1),o("q-item",[o("q-item-side",{attrs:{icon:"payment"}}),o("q-item-main",{attrs:{label:"Pago"}})],1),o("q-item-separator"),o("q-list-header",[t._v("Administración")]),o("q-item",[o("q-item-side",{attrs:{icon:"store"}}),o("q-item-main",{attrs:{label:"Tienda"}})],1),o("q-item",[o("q-item-side",{attrs:{icon:"how_to_reg"}}),o("q-item-main",{attrs:{label:"Empleados"}})],1),o("q-item",[o("q-item-side",{attrs:{icon:"wc"}}),o("q-item-main",{attrs:{label:"Clientes"}})],1),o("q-item",[o("q-item-side",{attrs:{icon:"group"}}),o("q-item-main",{attrs:{label:"Usuarios"}})],1),o("q-item-separator"),o("q-item",{nativeOn:{click:function(e){return t.logout(e)}}},[o("q-item-side",{attrs:{icon:"power_off"}}),o("q-item-main",{attrs:{label:"Salir"}})],1)],1)],1)],1),o("q-page-container",[o("q-page",{staticClass:"q-pa-md q-pt-xl base-layout__body"},[o("router-view")],1)],1)],1)},q=[],w=(a("a481"),{name:"LayoutDefault",data:function(){return{leftDrawerOpen:this.$q.platform.is.desktop}},methods:{openURL:g["d"],logout:function(){var t=this;s.a.auth().signOut().then(function(){t.$router.replace("login")})}}}),x=w,C=(a("f77a"),Object(c["a"])(x,y,q,!1,null,"49aa07f3",null));C.options.__file="BaseLayout.vue";var O=C.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[t._v("WELCOME")])},I=[],$={name:"Welcome",created:function(){this.$store.dispatch("title","Inicio")},data:function(){return{}}},D=$,P=(a("b6d1"),Object(c["a"])(D,k,I,!1,null,"35ac7f4d",null));P.options.__file="Welcome.vue";var S=P.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"login",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("q-field",{attrs:{error:!1,"error-label":"Oh buggers! You made a boo boo.",dark:""}},[a("q-input",{attrs:{type:"text","float-label":"Correo electrónico",color:"greendark",inverted:"",clearable:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("q-field",{attrs:{error:!1,"error-label":"Oh buggers! You made a boo boo."}},[a("q-input",{attrs:{type:"password","float-label":"Contraseña",color:"greendark",inverted:"",clearable:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("div",{staticClass:"login__actions"},[a("q-btn",{attrs:{type:"submit",label:"Iniciar sesión",color:"green-10","text-color":"green-8",size:"md"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Registrate","text-color":"green-10",size:"md",outline:"",push:"",flat:""},on:{click:function(e){t.$router.push("/sign-up")}}})],1)],1)},z=[],j={name:"Login",data:function(){return{email:"",password:""}},methods:{login:function(){var t=this,e=["adrianmoviles14@gmail.com","priscillaparedesosorio@gmail.com","Kiaralexandra49@gmail.com","yanhezv@gmail.com"],a=-1!=e.indexOf(this.email);a?s.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(e){var a={email:e.user.email,userId:e.user.uid};t.message(1,"Bienvenido al Sistema Tejesol."),t.$store.dispatch("userSystem",a),t.$router.replace("intranet")}).catch(function(e){t.message(0,e.message)}):this.message(1,"Esta cuenta no tiene permisos para ingresar.")},message:function(t,e){this.$q.notify({type:1==t?"positive":"negative",message:e,position:"top-right"})}}},R=j,L=(a("c219"),Object(c["a"])(R,E,z,!1,null,"28f226db",null));L.options.__file="Login.vue";var U=L.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"sign-up",on:{submit:function(e){return e.preventDefault(),t.signUp(e)}}},[a("q-field",{attrs:{error:!1,"error-label":"Oh buggers! You made a boo boo.",dark:""}},[a("q-input",{attrs:{type:"email","float-label":"Correo electrónico",color:"greendark",inverted:"",clearable:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("q-field",{attrs:{error:!1,"error-label":"Oh buggers! You made a boo boo."}},[a("q-input",{attrs:{type:"password","float-label":"Contraseña",color:"greendark",inverted:"",clearable:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("q-field",{attrs:{error:!1,"error-label":"Oh buggers! You made a boo boo."}},[a("q-input",{attrs:{type:"password","float-label":"Confirmar contraseña",color:"greendark",inverted:"",clearable:""},model:{value:t.passwordRepeat,callback:function(e){t.passwordRepeat=e},expression:"passwordRepeat"}})],1),a("div",{staticClass:"sign-up__actions"},[a("q-btn",{attrs:{type:"submit",label:"Registrarse",color:"green-10","text-color":"green-8",size:"md"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Iniciar sesión","text-color":"green-10",size:"md",outline:"",push:"",flat:""},on:{click:function(e){t.$router.push("/login")}}})],1)],1)},F=[],B={name:"SignUp",data:function(){return{email:"",password:"",passwordRepeat:""}},methods:{signUp:function(){var t=this,e=["adrianmoviles14@gmail.com","priscillaparedesosorio@gmail.com","Kiaralexandra49@gmail.com","yanhezv@gmail.com"],a=-1!=e.indexOf(this.email);s.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(e){if(a){var o={email:e.user.email,userId:e.user.uid};t.message(1,"Bienvenido usuario administrador."),t.$store.dispatch("userSystem",o),t.$router.replace("intranet")}else t.message(1,"Gracias por registrarse ingrese a la aplicación."),s.a.auth().signOut().then(function(){t.$router.replace("login")})}).catch(function(e){t.message(0,e.message)})},message:function(t,e){this.$q.notify({type:1==t?"positive":"negative",message:e,position:"top-right"})}}},N=B,A=(a("bd0c"),Object(c["a"])(N,T,F,!1,null,"04548642",null));A.options.__file="SignUp.vue";var Y=A.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product-list"},[a("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[a("q-btn",{attrs:{round:"",size:"lg",color:"primary",icon:"add"},on:{click:function(e){t.$router.push({name:"newProduct"})}}})],1),a("q-table",{attrs:{data:t.tableData,columns:t.columns,filter:t.filter,"row-key":"name",loading:t.loading},scopedSlots:t._u([{key:"top",fn:function(e){return[a("q-search",{attrs:{"hide-underline":""},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]}},{key:"body",fn:function(e){return a("q-tr",{},[a("q-td",{key:"number",attrs:{props:e}},[t._v(t._s(e.row.__index+1))]),a("q-td",{key:"product",attrs:{props:e}},[t._v(t._s(e.row.name))]),a("q-td",{key:"offer",attrs:{props:e}},[t._v(t._s("1"==e.row.offer_status?"Si":"No"))]),a("q-td",{key:"price",attrs:{props:e}},[t._v(t._s(e.row.price))]),a("q-td",{key:"status",attrs:{props:e}},[a("q-checkbox",{attrs:{color:"primary"},on:{input:function(a){t.changeStatus(e.row)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"props.row.status"}})],1),a("q-td",{key:"action",attrs:{props:e}},[a("q-btn",{staticClass:"q-pa-sm",attrs:{icon:"edit","text-color":"primary",size:"lg",flat:""},on:{click:function(a){t.$router.push({name:"editProduct",params:{productId:e.row.id}})}}}),a("q-btn",{staticClass:"q-pa-sm",attrs:{icon:"add_photo_alternate","text-color":"primary",size:"lg",flat:""},on:{click:function(a){t.$router.push({name:"editImages",params:{productId:e.row.id}})}}}),a("q-btn",{staticClass:"q-pa-sm",attrs:{icon:"playlist_add","text-color":"primary",size:"lg",flat:""},on:{click:function(a){t.$router.push({name:"editFeatures",params:{productId:e.row.id}})}}}),a("q-btn",{staticClass:"q-pa-sm",attrs:{icon:"delete_outline","text-color":"primary",size:"lg",flat:""},on:{click:function(a){t.deleteProduct(e.row)}}})],1)],1)}}])})],1)},G=[],W=(a("7f7f"),function(){return s.a.database()}),K="products",Q="categories",X={getRef:function(){return W().ref(K)},getProductById:function(t){return W().ref(K).child(t).once("value")},storeProduct:function(t){var e=(new Date).getTime(),a=W().ref(K).push().key,o={id:a,code:t.code,name:t.name,price:t.price,discount_rate:t.discount_rate,discount_amount:t.discount_amount,sale_price:t.sale_price,offer_status:t.offer_status,status:t.status?"1":"0",category_id:null!=t.category_id?t.category_id:"",created_at:e,updated_at:e},r={};return r["/".concat(K,"/").concat(a)]=o,""!=t.category_id&&(r["/".concat(Q,"/").concat(t.category_id,"/products/").concat(a)]=!0),W().ref().update(r)},updateProduct:function(t,e){var a=(new Date).getTime(),o={id:t.id,code:t.code,name:t.name,price:t.price,discount_rate:t.discount_rate,discount_amount:t.discount_amount,sale_price:t.sale_price,offer_status:t.offer_status,status:t.status?"1":"0",category_id:null!=t.category_id?t.category_id:"",created_at:t.created_at,updated_at:a},r={};return r["/".concat(K,"/").concat(t.id)]=o,t.category_id!=e&&(""!=e&&(r["/".concat(Q,"/").concat(e,"/products/").concat(t.id)]=null),""!=t.category_id&&(r["/".concat(Q,"/").concat(t.category_id,"/products/").concat(t.id)]=!0)),W().ref().update(r)},updateStatus:function(t){var e=(new Date).getTime(),a={status:t.status?"1":"0",updated_at:e};return W().ref(K).child(t.id).update(a)},deleteProduct:function(t,e){var a={};return a["/".concat(K,"/").concat(t)]=null,a["/".concat(Q,"/").concat(e,"/products/").concat(t)]=null,W().ref().update(a)}},H={success:function(t){g["b"].create({message:t,type:"positive",position:"top-right"})},error:function(t){g["b"].create({message:t,type:"negative",position:"top-right"})},info:function(t){g["b"].create({message:t,type:"info",position:"top-right"})},warning:function(t){g["b"].create({message:t,type:"warning",position:"top-right"})}},J={confirm:function(t,e){return g["a"].create({title:t,message:e,ok:!0,cancel:!0,color:"primary"})}},V={name:"ProductList",data:function(){return{filter:"",loading:!1,columns:[{name:"number",label:"#",align:"left",style:"width: 50px"},{name:"product",label:"Producto",align:"left",field:"name"},{name:"offer",label:"En oferta",align:"center",field:"offer_status",style:"width: 80px"},{name:"price",label:"Precio (S/)",align:"center",field:"price",style:"width: 80px"},{name:"status",label:"Disponible",align:"center",field:"status",style:"width: 80px"},{name:"action",label:"Acciones",align:"center",style:"width: 200px"}],tableData:[]}},created:function(){var t=this;this.$store.dispatch("title","Productos"),this.loading=!0,X.getRef().on("value",function(e){t.setTableData(e.val()),t.loading=!1})},mounted:function(){},methods:{deleteProduct:function(t){J.confirm("Eliminar","¿Esta seguro de querer eliminar este producto? No se podrá recuperar esta información nuca mas.").then(function(){X.deleteProduct(t.id,t.category_id).then(function(){H.success("Se eliminó correctamente.")}).catch(function(t){H.error(t)})}).catch(function(){H.info("Gracias por no eliminarme.")})},changeStatus:function(t){X.updateStatus(t).then(function(){H.success("Se actualizó el estado del producto.")}).catch(function(t){H.error(t)})},setTableData:function(t){for(var e in this.tableData=[],t)if(t.hasOwnProperty(e)){var a=t[e];a.status="1"==a.status,this.tableData.push(a)}}}},Z=V,tt=(a("9b93"),Object(c["a"])(Z,M,G,!1,null,"9fffe1a6",null));tt.options.__file="ProductList.vue";var et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"product-form",on:{submit:function(e){return e.preventDefault(),t.saveProduct(e)}}},[t._m(0),a("div",{staticClass:"product-form__row"},[a("div",{staticClass:"product-form__double_column"},[a("q-field",{attrs:{error:!1,"error-label":"Oh buggers! You made a boo boo."}},[a("q-input",{attrs:{type:"text","float-label":"Código de producto",color:"grey-3","inverted-light":""},model:{value:t.product.code,callback:function(e){t.$set(t.product,"code",e)},expression:"product.code"}})],1)],1),a("div",{staticClass:"product-form__double_column"},[a("q-field",{attrs:{error:!1,"error-label":"Oh buggers! You made a boo boo."}},[a("q-select",{attrs:{options:t.categoryOptions,"float-label":"Categoría",placeholder:"Seleccione categoría",color:"grey-3","inverted-light":""},model:{value:t.product.category_id,callback:function(e){t.$set(t.product,"category_id",e)},expression:"product.category_id"}})],1)],1)]),a("q-field",{attrs:{error:!1,"error-label":"Oh buggers! You made a boo boo."}},[a("q-input",{attrs:{type:"text","float-label":"Nombre del producto",color:"grey-3","inverted-light":"",clearable:""},model:{value:t.product.name,callback:function(e){t.$set(t.product,"name",e)},expression:"product.name"}})],1),a("div",{staticClass:"product-form__row"},[a("div",{staticClass:"product-form__double_column"},[a("q-field",{attrs:{error:!1,"error-label":"Oh buggers! You made a boo boo."}},[a("q-input",{attrs:{type:"text",prefix:"S/&nbsp","stack-label":"Precio normal",placeholder:"0.00",color:"grey-3","inverted-light":""},on:{input:t.syncronizationData},model:{value:t.product.price,callback:function(e){t.$set(t.product,"price",e)},expression:"product.price"}})],1)],1),a("div",{staticClass:"product-form__double_column"},[a("div",{staticClass:"product-form__offer-status shadow-1 bg-grey-3"},[a("div",{staticClass:"product-form__offer-status-title"},[t._v("En oferta")]),a("div",{staticClass:"product-form__offer-status-radio"},[a("q-radio",{attrs:{val:"1",label:"Si"},on:{input:t.syncronizationData},model:{value:t.product.offer_status,callback:function(e){t.$set(t.product,"offer_status",e)},expression:"product.offer_status"}}),a("q-radio",{attrs:{val:"0",label:"No"},on:{input:t.syncronizationData},model:{value:t.product.offer_status,callback:function(e){t.$set(t.product,"offer_status",e)},expression:"product.offer_status"}})],1)])])]),a("div",{staticClass:"product-form__row"},[a("div",{staticClass:"product-form__double_column"},[a("q-field",{attrs:{error:!1,"error-label":"Oh buggers! You made a boo boo."}},[a("q-input",{attrs:{type:"text",placeholder:"0.00",prefix:"S/&nbsp",suffix:t.discountRate,"stack-label":"Descuento",color:"grey-3",readonly:"0"==t.product.offer_status,"inverted-light":""},on:{input:t.syncronizationData},model:{value:t.product.discount_amount,callback:function(e){t.$set(t.product,"discount_amount",e)},expression:"product.discount_amount"}})],1)],1),a("div",{staticClass:"product-form__double_column"},[a("q-field",{attrs:{error:!1,"error-label":"Oh buggers! You made a boo boo."}},[a("q-input",{attrs:{type:"text",prefix:"S/&nbsp","stack-label":"Precio de venta",color:"grey-3","inverted-light":"",readonly:""},model:{value:t.salePrice,callback:function(e){t.salePrice=e},expression:"salePrice"}})],1)],1)]),a("div",{staticClass:"product-form__status shadow-1 bg-grey-3"},[a("q-checkbox",{attrs:{color:"primary",label:t.statusText},model:{value:t.product.status,callback:function(e){t.$set(t.product,"status",e)},expression:"product.status"}})],1),a("div",{staticClass:"row justify-end q-mt-lg"},[a("q-btn",{attrs:{label:"Cancelar",color:"primary","text-color":"white",size:"md"},on:{click:function(e){t.$router.push({name:"products"})}}}),a("q-btn",{staticClass:"q-ml-md",attrs:{type:"submit",label:t.textButtonSubmit,color:"primary","text-color":"white",size:"md"}})],1)],1)},ot=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"e-section-title"},[a("h1",{staticClass:"e-section-title__title"},[t._v("Datos del producto")])])}],rt="categories",st={getRef:function(){return W().ref(rt)},getCategoryById:function(t){return W().ref(rt).child(t).once("value")},storeCategory:function(t){var e=(new Date).getTime(),a=W().ref(rt).push(),o={id:a.key,name:t.name,status:t.status?"1":"0",created_at:e,updated_at:e};return a.set(o)},updateCategory:function(t){var e=(new Date).getTime(),a={name:t.name,status:t.status?"1":"0",updated_at:e};return W().ref(rt).child(t.id).update(a)},deleteCategory:function(t){return W().ref(rt).child(t).remove()}},nt={name:"ProductForm",data:function(){return{product:{id:null,code:"",name:"",price:"",discount_rate:0,discount_amount:"",sale_price:"0.00",offer_status:"0",status:!0,category_id:"",created_at:""},categoryOptions:[],oldCategoryId:"",isEdit:!1}},created:function(){var t=this;this.$store.dispatch("title","Formulario de producto"),st.getRef().on("value",function(e){t.fillCategorySelect(e.val())}),this.$route.params.productId&&X.getProductById(this.$route.params.productId).then(function(e){var a=e.val();t.product.id=a.id,t.product.code=a.code,t.product.name=a.name,t.product.price=a.price,t.product.discount_rate=a.discount_rate,t.product.discount_amount=a.discount_amount,t.product.sale_price=a.sale_price,t.product.offer_status=a.offer_status,t.product.status="1"==a.status,t.product.category_id=a.category_id,t.product.created_at=a.created_at,t.oldCategoryId=a.category_id,t.isEdit=!0}).catch(function(){H.error("No existe el producto."),t.$router.push({name:"products"})})},methods:{saveProduct:function(){this.isEdit?this.updateProduct():this.newProduct()},newProduct:function(){var t=this,e=this.getProduct(this.product);X.storeProduct(e).then(function(){H.success("Se registro el producto correctamente."),t.$router.push({name:"products"})}).catch(function(t){H.error(t)})},updateProduct:function(){var t=this,e=this.getProduct(this.product);X.updateProduct(e,this.oldCategoryId).then(function(){H.success("Se actualizó correctamente."),t.$router.push({name:"products"})}).catch(function(t){H.error(t)})},getProduct:function(){return{id:this.product.id,code:this.product.code,name:this.product.name,price:""!=this.product.price?parseFloat(this.product.price):0,discount_rate:this.product.discount_rate,discount_amount:""!=this.product.discount_amount?parseFloat(this.product.discount_amount):0,sale_price:parseFloat(this.product.sale_price),offer_status:this.product.offer_status,status:this.product.status,category_id:this.product.category_id,created_at:this.product.created_at}},fillCategorySelect:function(t){for(var e in this.categoryOptions=[],t)if(t.hasOwnProperty(e)){var a=t[e],o={label:a.name,value:a.id};this.categoryOptions.push(o)}},syncronizationData:function(){var t=parseFloat(this.product.price),e=parseFloat(this.product.discount_amount);if("1"==this.product.offer_status){var a=e/t;a=isFinite(a)?a:isNaN(a)?0:1,this.product.discount_rate=parseFloat(a.toFixed(2));var o=t-e;o=isNaN(o)?0:o,this.product.sale_price=o.toFixed(2)}else this.product.discount_rate=0,this.product.discount_amount=0,this.product.sale_price=this.product.price}},computed:{discountRate:function(){return"-"+(100*this.product.discount_rate).toFixed(0)+"%"},salePrice:function(){return parseFloat(this.product.sale_price).toFixed(2)},statusText:function(){return this.product.status?"Disponible":"No disponible"},textButtonSubmit:function(){return this.isEdit?"Guardar":"Registrar"}}},it=nt,ct=(a("71cc"),Object(c["a"])(it,at,ot,!1,null,"4d3bcd3b",null));ct.options.__file="ProductForm.vue";var ut=ct.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product-category-list"},[a("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[a("q-btn",{attrs:{round:"",size:"lg",color:"primary",icon:"add"},on:{click:function(e){t.$router.push({name:"newCategory"})}}})],1),a("q-table",{attrs:{data:t.tableData,columns:t.columns,filter:t.filter,"row-key":"name",loading:t.loading},scopedSlots:t._u([{key:"top",fn:function(e){return[a("q-search",{attrs:{"hide-underline":""},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]}},{key:"body",fn:function(e){return a("q-tr",{},[a("q-td",{key:"number",attrs:{props:e}},[t._v(t._s(e.row.__index+1))]),a("q-td",{key:"category",attrs:{props:e}},[t._v(t._s(e.row.name))]),a("q-td",{key:"status",attrs:{props:e}},[a("q-checkbox",{attrs:{color:"primary"},on:{input:function(a){t.changeStatus(e.row)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"props.row.status"}})],1),a("q-td",{key:"action",attrs:{props:e}},[a("q-btn",{staticClass:"q-pa-sm",attrs:{icon:"edit","text-color":"primary",size:"lg",flat:""},on:{click:function(a){t.$router.push({name:"editCategory",params:{categoryId:e.row.id}})}}}),a("q-btn",{staticClass:"q-pa-sm",attrs:{icon:"delete_outline","text-color":"primary",size:"lg",flat:""},on:{click:function(a){t.deleteCategory(e.row)}}})],1)],1)}}])})],1)},dt=[],pt={name:"ProductCategoryList",data:function(){return{filter:"",loading:!1,columns:[{name:"number",label:"#",align:"left",style:"width: 50px"},{name:"category",label:"Categoria de producto",align:"left",field:"name"},{name:"status",label:"Disponible",align:"center",field:"status",style:"width: 80px"},{name:"action",label:"Acciones",align:"center",style:"width: 100px"}],tableData:[]}},created:function(){var t=this;this.$store.dispatch("title","Categorias"),this.loading=!0,st.getRef().on("value",function(e){t.replaceTableData(e.val()),t.loading=!1})},mounted:function(){},methods:{deleteCategory:function(t){J.confirm("Eliminar","¿Esta seguro de querer eliminar esta categoria? No se podrá recuperar esta información nuca mas.").then(function(){st.deleteCategory(t.id).then(function(){H.success("Se eliminó correctamente.")}).catch(function(t){H.error(t)})}).catch(function(){H.info("Gracias por no eliminarme.")})},changeStatus:function(t){st.updateCategory(t).then(function(){H.success("Se actualizó el estado de la categoría.")}).catch(function(t){H.error(t)})},replaceTableData:function(t){for(var e in this.tableData=[],t)if(t.hasOwnProperty(e)){var a=t[e];a.status="1"==a.status,this.tableData.push(a)}}}},ft=pt,mt=(a("a7bb"),Object(c["a"])(ft,lt,dt,!1,null,"b55dba8c",null));mt.options.__file="ProductCategoryList.vue";var gt=mt.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"product-category-form",on:{submit:function(e){return e.preventDefault(),t.saveCategory(e)}}},[t._m(0),a("q-field",{attrs:{error:!1,"error-label":"Oh buggers! You made a boo boo."}},[a("q-input",{attrs:{type:"text","float-label":"Nombre de la categoría",color:"grey-3","inverted-light":"",clearable:""},model:{value:t.category.name,callback:function(e){t.$set(t.category,"name",e)},expression:"category.name"}})],1),a("div",{staticClass:"product-category-form__status shadow-1 bg-grey-3"},[a("q-checkbox",{attrs:{color:"primary",label:t.statusText},model:{value:t.category.status,callback:function(e){t.$set(t.category,"status",e)},expression:"category.status"}})],1),a("div",{staticClass:"row justify-end q-mt-lg"},[a("q-btn",{attrs:{label:"Cancelar",color:"primary","text-color":"white",size:"md"},on:{click:function(e){t.$router.push({name:"categories"})}}}),a("q-btn",{staticClass:"q-ml-md",attrs:{type:"submit",label:t.textButtonSubmit,color:"primary","text-color":"white",size:"md"}})],1)],1)},bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"e-section-title"},[a("h1",{staticClass:"e-section-title__title"},[t._v("Datos de categoría")])])}],_t={name:"ProductCategoryForm",data:function(){return{category:{id:null,name:"",status:!0},isEdit:!1}},created:function(){var t=this;this.$store.dispatch("title","Formulario de categoría de producto"),this.$route.params.categoryId&&st.getCategoryById(this.$route.params.categoryId).then(function(e){var a=e.val();t.category.id=a.id,t.category.name=a.name,t.category.status="1"==a.status,t.isEdit=!0}).catch(function(){H.error("No existe la categoría."),t.$router.push({name:"categories"})})},methods:{saveCategory:function(){this.isEdit?this.updateCategory():this.newCategory()},newCategory:function(){var t=this;st.storeCategory(this.category).then(function(){H.success("Se registro una categoría correctamente."),t.$router.push({name:"categories"})}).catch(function(t){H.error(t)})},updateCategory:function(){var t=this;st.updateCategory(this.category).then(function(){H.success("Se actualizó correctamente."),t.$router.push({name:"categories"})}).catch(function(t){H.error(t)})}},computed:{statusText:function(){return this.category.status?"Disponible":"No disponible"},textButtonSubmit:function(){return this.isEdit?"Guardar":"Registrar"}}},vt=_t,yt=(a("9e15"),Object(c["a"])(vt,ht,bt,!1,null,"23d804c8",null));yt.options.__file="ProductCategoryForm.vue";var qt=yt.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[t._v("CARACTERISTICAS DE PRODUCTO")])},xt=[],Ct={name:"ProductList",data:function(){return{}},created:function(){this.$store.dispatch("title","Características del producto")}},Ot=Ct,kt=(a("e470"),Object(c["a"])(Ot,wt,xt,!1,null,"00fae60e",null));kt.options.__file="ProductFeature.vue";var It=kt.exports,$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[t._v("PRODUCT IMAGE")])},Dt=[],Pt={name:"ProductList",data:function(){return{}},created:function(){this.$store.dispatch("title","Imágenes del producto")}},St=Pt,Et=(a("7239"),Object(c["a"])(St,$t,Dt,!1,null,"844c4344",null));Et.options.__file="ProductImage.vue";var zt=Et.exports,jt=[{path:"/login",component:v,children:[{path:"",name:"login",component:U},{path:"/sign-up",name:"signUp",component:Y}]},{path:"",component:O,meta:{requiresAuth:!0},children:[{path:"",name:"welcome",component:S},{path:"category",name:"categories",component:gt},{path:"category/new",name:"newCategory",component:qt},{path:"category/edit/:categoryId",name:"editCategory",component:qt},{path:"product",name:"products",component:et},{path:"product/new",name:"newProduct",component:ut},{path:"product/edit/:productId",name:"editProduct",component:ut},{path:"product/:productId/feature",name:"editFeatures",component:It},{path:"product/:productId/image",name:"editImages",component:zt}]},{path:"*",redirect:"/login"}];o["a"].use(p["a"]);var Rt=new p["a"]({routes:jt});Rt.beforeEach(function(t,e,a){var o=s.a.auth().currentUser,r=t.matched.some(function(t){return t.meta.requiresAuth});r&&!o?a({name:"login"}):!r&&o?a({name:"welcome"}):a()});var Lt=Rt,Ut=a("2f62");o["a"].use(Ut["a"]);var Tt=new Ut["a"].Store({state:{status:"",titleSection:"",token:localStorage.getItem("token")||"",user:null},mutations:{changePageTitle:function(t,e){t.titleSection=e},setDataUser:function(t,e){t.user=e}},actions:{title:function(t,e){var a=t.commit;a("changePageTitle",e)},userSystem:function(t,e){var a=t.commit;a("setDataUser",e)}},getters:{pageTitle:function(t){return t.titleSection}}}),Ft=a("9483");Object(Ft["a"])("".concat("/tejesol/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});a("06e8"),a("a4ac"),a("4a91");var Bt=a("74f1");a("2826"),a("401b"),a("7e57"),a("38aa"),a("410d"),a("b3f4");o["a"].use(g["c"],{config:{},i18n:Bt["a"]}),o["a"].config.productionTip=!1;var Nt="";s.a.initializeApp({apiKey:"AIzaSyB34t4tHQfsXYLnwFVrGINK67N6DfqzUBQ",authDomain:"artesaniatejesol.firebaseapp.com",databaseURL:"https://artesaniatejesol.firebaseio.com",projectId:"artesaniatejesol",storageBucket:"artesaniatejesol.appspot.com",messagingSenderId:"124677378569"}),s.a.auth().onAuthStateChanged(function(){Nt||(Nt=new o["a"]({router:Lt,store:Tt,render:function(t){return t(d)}}).$mount("#app"))})},5991:function(t,e,a){},"64a9":function(t,e,a){},"68c0":function(t,e,a){},"71cc":function(t,e,a){"use strict";var o=a("ee59"),r=a.n(o);r.a},7239:function(t,e,a){"use strict";var o=a("1b11"),r=a.n(o);r.a},8908:function(t,e,a){},"8d19":function(t,e,a){},"97cb":function(t,e,a){var o={"./bounce.css":"3d49","./bounceIn.css":"0a58","./bounceInDown.css":"a4a9","./bounceInLeft.css":"5965","./bounceInRight.css":"da80","./bounceInUp.css":"b60e","./bounceOut.css":"f39d","./bounceOutDown.css":"a9b5","./bounceOutLeft.css":"06dd","./bounceOutRight.css":"66bc","./bounceOutUp.css":"908f","./fadeIn.css":"1070","./fadeInDown.css":"1625","./fadeInDownBig.css":"9338","./fadeInLeft.css":"0c2e","./fadeInLeftBig.css":"f357","./fadeInRight.css":"ef8f","./fadeInRightBig.css":"747a","./fadeInUp.css":"e7fb","./fadeInUpBig.css":"b8af","./fadeOut.css":"25cd","./fadeOutDown.css":"93ea","./fadeOutDownBig.css":"c888","./fadeOutLeft.css":"5f1d","./fadeOutLeftBig.css":"a555","./fadeOutRight.css":"8934","./fadeOutRightBig.css":"9438","./fadeOutUp.css":"351b","./fadeOutUpBig.css":"23a5","./flash.css":"58a5","./flip.css":"bda0","./flipInX.css":"58b8","./flipInY.css":"5902","./flipOutX.css":"72c5","./flipOutY.css":"b8ad","./headShake.css":"2289","./hinge.css":"085e","./jello.css":"8014","./lightSpeedIn.css":"eb7d","./lightSpeedOut.css":"d043","./pulse.css":"ab98","./rollIn.css":"dc73","./rollOut.css":"592c","./rotateIn.css":"487d","./rotateInDownLeft.css":"bf6b","./rotateInDownRight.css":"7b96","./rotateInUpLeft.css":"89f8","./rotateInUpRight.css":"cb8c","./rotateOut.css":"de65","./rotateOutDownLeft.css":"8134","./rotateOutDownRight.css":"1ea7","./rotateOutUpLeft.css":"63d1","./rotateOutUpRight.css":"fcc3","./rubberBand.css":"aab2","./shake.css":"15f1","./slideInDown.css":"79ea","./slideInLeft.css":"a963","./slideInRight.css":"3b76","./slideInUp.css":"21e3","./slideOutDown.css":"abed","./slideOutLeft.css":"f857","./slideOutRight.css":"0a43","./slideOutUp.css":"5706","./swing.css":"b968","./tada.css":"3391","./wobble.css":"ed5b","./zoomIn.css":"38f3","./zoomInDown.css":"2577","./zoomInLeft.css":"1992","./zoomInRight.css":"ef68","./zoomInUp.css":"97a1","./zoomOut.css":"cc15","./zoomOutDown.css":"2ac6","./zoomOutLeft.css":"1fd4","./zoomOutRight.css":"fa2f","./zoomOutUp.css":"91e5"};function r(t){var e=s(t);return a(e)}function s(t){var e=o[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}r.keys=function(){return Object.keys(o)},r.resolve=s,t.exports=r,r.id="97cb"},"9b93":function(t,e,a){"use strict";var o=a("b9ba"),r=a.n(o);r.a},"9cb7":function(t,e,a){},"9e15":function(t,e,a){"use strict";var o=a("8908"),r=a.n(o);r.a},a4ac:function(t,e,a){},a7bb:function(t,e,a){"use strict";var o=a("5991"),r=a.n(o);r.a},a946:function(t,e,a){"use strict";var o=a("c001"),r=a.n(o);r.a},b6d1:function(t,e,a){"use strict";var o=a("184e"),r=a.n(o);r.a},b9ba:function(t,e,a){},bd0c:function(t,e,a){"use strict";var o=a("9cb7"),r=a.n(o);r.a},c001:function(t,e,a){},c219:function(t,e,a){"use strict";var o=a("cb66"),r=a.n(o);r.a},cb66:function(t,e,a){},e470:function(t,e,a){"use strict";var o=a("68c0"),r=a.n(o);r.a},ee59:function(t,e,a){},f77a:function(t,e,a){"use strict";var o=a("8d19"),r=a.n(o);r.a}});
//# sourceMappingURL=app.ca8bb307.js.map